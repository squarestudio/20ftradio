<div class="sqs-events-collection-list">
    {.if upcoming}
    <div class="eventlist eventlist--upcoming">
        {.repeated section upcoming}
        <article id="{id}" class="eventlist-event eventlist-event--upcoming">
            <a href="{fullUrl}" class="eventlist-column-thumbnail content-fill">
                {.image?}
                    <img {@|image-meta} data-fixed-ratio="true"/>
                {.end}
            </a>
            <a href="{fullUrl}" class="eventlist-column-date">
                <div class="eventlist-datetag">
                    <div class="eventlist-datetag-inner">
                        <div class="eventlist-datetag-startdate eventlist-datetag-startdate--month">{startDate|date %b}</div>
                        <div class="eventlist-datetag-startdate eventlist-datetag-startdate--day">{startDate|date %d}</div>
                        <div class="eventlist-datetag-time"><span class="event-time-12hr">{startDate|date %I:%M %p}</span><span class="event-time-24hr">{startDate|date %H:%M}</span></div>
                        <div class="eventlist-datetag-status"></div>
                    </div>
                </div>
            </a>

            <div class="eventlist-column-info">
                <h1 class="eventlist-title"><a
                        href="{fullUrl}" class="eventlist-title-link">{title}</a></h1>
                {.section categories}
                <div class="eventlist-cats">
                    {.repeated section @}<p rel="tag">{@}</p>{.alternates with}, {.end}
                </div>
                {.end}
                {.section tags}
                <div class="eventlist-tags">
                    {.repeated section @}<p rel="tag">{@}</p>{.alternates with}, {.end}
                </div>
                {.end}
                <ul class="eventlist-meta event-meta">
                    <li class="eventlist-meta-item eventlist-meta-date event-meta-item">
                        <time class="event-date" datetime="2017-06-11">Sunday, June 11, 2017</time>
                    </li>
                    <li class="eventlist-meta-item eventlist-meta-time event-meta-item">
              <span class="event-time-12hr">
                <time class="event-time-12hr-start" datetime="{startDate}">{startDate|date %I:%M %p}</time>
                <span class="event-datetime-divider"></span>
                <time class="event-time-12hr-end" datetime="{endDate}">{endDate|date %I:%M %p}</time>
              </span>
                        <span class="event-time-24hr">
                <time class="event-time-24hr-start" datetime="{startDate}">{startDate|date %H:%M}</time>
                <span class="event-datetime-divider"></span>
                <time class="event-time-12hr-end" datetime="{endDate}">{endDate|date %H:%M}</time>
              </span>
                    </li>
                    <li class="eventlist-meta-item eventlist-meta-export event-meta-item">
                        <a href="{@|google-calendar-url}" class="eventlist-meta-export-google"></a>
                        <span class="eventlist-meta-export-divider"></span>
                        <a href="{fullUrl}?format=ical" class="eventlist-meta-export-ical"></a>
                    </li>

                </ul>
                <div class="eventlist-actions">
                    <div class="social-like">{@|like-button}
                        {@|social-button-inline}</div>
                </div>
            </div>
            <div class="clear"></div>
        </article>
        {.end}
    </div>
    {.or}
        <p>There are no upcoming events</p>
    {.end}
</div>

<script>
    // if no thumbnails have been uploaded, but the thumbnails tweak is enabled, manually remove the tweak class.
    // it just looks nicer.
    if (document.querySelectorAll('.eventlist--upcoming .eventlist-thumbnail').length === 0 &&
            document.querySelectorAll('.event-show-past-events .eventlist--past .eventlist-thumbnail').length === 0) {
        document.querySelector('body').classList.remove('event-thumbnails');
    }
</script>
</div>